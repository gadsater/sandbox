#+TITLE: Land-Registry-Implementation

* Implementation
The particular application has been developed using Blockchain technologies provided by Ethereum. The core of this application is handled by smart contracts. All the programming logic required to register users, lands and handle land transactions are written in smart contracts using the programming language called Solidity. This language is similar to javascript but helps us prevent critical errors like memory leaks, type errors etc. These smart contracts are compiled and then run on the Ethereum Virtual Machine (EVM). This Virtual Machine provides the resources for our smart contract to execute and its speciality is that it runs on the Ethereum Blockchain. Each state of a program is recorded as a transaction in the blockchain. 
To test this application, we run it in our local network using tools like Ganache and Truffle. Ganache simulates a local blockchain in our test environment by hosting a local blockchain and providing a few accounts to perform transactions. Truffle is used to compile the written smart contract and migrate (deploy) the contract to a running instance of a blockchain network. In our test network, we provide the address as that of the localhost (//127.0.0.1) and the port as 8545 (we can set the port value manually). After setting up all this to deploy our contract in a blockchain network, we could interact with our smart contract using ‘truffle console’ command. This command starts a console in which we could interact with our deployed contract and call the functions linked with our contract.
 
** User Registration
 
To register an user, we invoke registerUser() method. This function call receives user details and converts into a data structure holding user details. This data is then permanently stored in our blockchain. 

#+CAPTION: registerUser() method demonstration
[[./register-person-1.png]]


#+CAPTION: Users stored in Blockchain

** Land Registration
Similar to user registration, we invoke registerLand() method to resgister a land. This method can only be used by privileged users (admin and regsistrar).
This data is converted to a data structure holding land details and then permanently stored in our blockchain. 

#+CAPTION: registerLand() method demonstration
[[./register-land-1.png]]

#+CAPTION: Land stored in Blockchain
[[./land-details-1-2.png]]

** Land Transaction
Land Transaction is carried out in this system only when the land is allowed to be sold. So, we include a method called chLandStatus() to allow the land owner to sell the land.

#+CAPTION: chLandStatus() method demonstration 
[[./change-land-status.png]]

If land is on sale, then invoking transactLand() method transfers the land from the land owner to the person invoking the method. Balance is deducted from the buyer's account and added to the seller's account. The land again changes to owned state. 

#+CAPTION: transactLand() method demonstration
[[./transact-land.png]]

#+CAPTION: Land details after transaction
[[./land-status-after-transaction.png]]

#+CAPTION: Updated user account details
[[./user-status-after-transaction.png]]
