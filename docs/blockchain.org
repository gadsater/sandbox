#+TITLE: Land-Registry-Implementation
#+AUTHOR: 
#+OPTIONS: toc:nil

* Contribution
 The core logic of our transaction model is handled by smart contracts. It includes methods to store details of lands, details of users and transact land from one customer to another. The person who deploys smart contract is given the admin privilege.

[[./ganache-interface.png]]
** System Model 
We use two structures to represent the details of Land and User.
*** Land Details
+ *Land ID* - An integer value that denotes the index of the land.
+ *Land Tag* - A unique tag associated with each land.
+ *Land Owner Name* - Name of the land owner.
+ *Land Owner Address* - Address of the land owner.
+ *Land Validator* - Address of the validator who validated this land.
+ *Land Status* - Denotes whether land is on sale or not.
+ *Land Bid* - Specifies the price of the land
*** User Details
+ *User ID* - An integer value that denotes the index of the user.
+ *User Name* - Name of the user.
+ *User Address* - Address of the user.
+ *User Balance* - Stores the balance (in ether) of the user.
+ *User Privilege* - Denotes the privilege of user. Can be one amongst the following: Admin, Registrar and Customer.

*** *User Registration* 
The following methods are used to perform user registration:
+ *registerCustomer()* - This method is used to register an user with Customer privilege. It receives Name of the user as a parameter, finds out the address of the user from the person who calls the smart contract and creates the user details structure associated with the customer. This structure is then stored in a Users mapping.
+ *registerUser()* - This method can be invoked only by an user with Admin privilege. An admin can specify both the user name and user address in order to register the user. Similar to the previous method, a structure is created and the details get stored in the Users mapping. 
*** *Land Registration*
+ *registerLand()* - This method can be invoked only by an user with privilege level of Admin or Registrar. It is assumed that the presence of land is verified before the land is registered in this system. An unique tag and land owner address is fed in as parameters. This is used to create the land detail structure and store it in Lands mapping.
*** *Land Transaction*
+ *transactLand()* - This method is invoked to transfer land ownership from one user to another. The land tag associated with the land is fed in as parameter. The user who calls this method is the buyer and the land owner is the seller. If the land is in 'sellable' state and if the buyer has enough balance to purchase the land, the transaction is initiated. The ownership of the land changes and the balance deducted from buyer is added to the wallet of seller.


